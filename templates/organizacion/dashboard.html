{% extends "base.html" %}

{% block extra_js %}
<script src="/static/js/highcharts.js"></script>
<script src="/static/js/exporting.js"></script>
<script>
$(document).ready(function() {
        
        $('li.item-org').addClass('active');
    
    })

	$(function () {
		$('#aspectos_juridicos').highcharts({
			chart: {
				type: 'column'
			},
			title: {
				text: 'Aspectos Jurídicos de las Organizaciones/Instituciones'
			},
			xAxis: {
				categories: ['Personería jurídica', 'Actualización person. jurídica', 'Solvencia tributaria', 'Junta directiva certificada', 'Lista socias y socias actualizada']
			},
			yAxis: {
	            title: {
	                text: 'Valores'
	            }

	        },
			credits: {
				enabled: false
			},
			plotOptions: {
				series: {
					borderWidth: 0,
					dataLabels: {
						enabled: true,
						format: '{point.y}'
					}
				}
			},

			tooltip: {
				headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
				pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}'
			},
			series: [
			{% for key,value in dic.items %}
			{
				name: '{{key}}',
				data: {{value}}
			},
			{% endfor %}

			]
		});
	})

	$(function () {
		$('#documentacion').highcharts({
			chart: {
				type: 'column'
			},
			title: {
				text: 'Aspectos Jurídicos de las Organizaciones/Instituciones'
			},
			xAxis: {
				categories: ['Si', 'No']
			},
			credits: {
				enabled: false
			},
			yAxis: {
	            title: {
	                text: 'Valores'
	            }

	        },
			plotOptions: {
				series: {
					borderWidth: 0,
					dataLabels: {
						enabled: true,
						format: '{point.y}'
					}
				}
			},

			tooltip: {
				headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
				pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}'
			},
			series: [
			{% for key,value in documentacion.items %}
			{
				name: '{{key}}',
				data: [{% for x,y in value.items %}{{y}},{% endfor %}]
			},
			{% endfor %}

			]
		});
	});

$(function () {
    $('#container').highcharts({
        chart: {
            type: 'column'
        },
        title: {
            text: 'Promedios número de socias/os y pre-socias/os'
        },
        yAxis: {
            title: {
                text: 'Valores'
            }

        },
        credits: {
            enabled: false
        },
        yAxis: {
                min: 0,
                title: {
                    text: 'Promedio'
                }
            },

            tooltip: {
                formatter: function() {
                    return ''+
                        this.series.name +': '+ this.y;
                }
            },
        series: [
                {
                    name: 'Socias',
                    data: [{{socias}}],
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#632D00',
                        align: 'center',
                        x: -3,
                        y: 0,
                            formatter: function() {
                                return this.y;
                                                  },
                        style: {
                            font: 'normal 13px Verdana, sans-serif'
                                }
                                }
                },
                {
                    name: 'Socios',
                    data: [{{socios}}],
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#632D00',
                        align: 'center',
                        x: -3,
                        y: 0,
                            formatter: function() {
                                return this.y;
                                                  },
                        style: {
                            font: 'normal 13px Verdana, sans-serif'
                                }
                                }
                },
                {
                    name: 'Pre Socias',
                    data: [{{pre_socias}}],
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#632D00',
                        align: 'center',
                        x: -3,
                        y: 0,
                            formatter: function() {
                                return this.y;
                                                  },
                        style: {
                            font: 'normal 13px Verdana, sans-serif'
                                }
                                }
                },
                {
                    name: 'Pre Socios',
                    data: [{{pre_socios}}],
                    dataLabels: {
                        enabled: true,
                        rotation: 0,
                        color: '#632D00',
                        align: 'center',
                        x: -3,
                        y: 0,
                            formatter: function() {
                                return this.y;
                                                  },
                        style: {
                            font: 'normal 13px Verdana, sans-serif'
                                }
                                }
                },
                ]
    });
});
</script>
{% endblock extra_js %}

{% block tablero %}
<div class="datos-dashboard">
	<div class="row">
		<div class="col-xs-4 col-sm-3 col-md-4 col-lg-4 tablero-familia">
			<div class="ind-familia row">
				<div class=" col-lg-3 col-lg-offset-1 img-familia"><img src="/static/img/organizacion.png" alt=""></div>
				<div class=" col-lg-3"><h1>{{organizaciones}}</h1></div>
				<div class=" col-lg-4" style="margin-left: -25px"><p>Organizaciones</p></div>
			</div>
		</div>
	</div>
</div>
{% endblock tablero %}

{% block content %}
<style>
.row {
	margin-right: 0px !important;
	margin-left: 0px !important; 
}

h3 {
  color: #cb6830;
  font-weight: bold;
  margin-bottom: 5px;
  margin-top: 5px;
}
</style>

<div class="row fila1">
	<div class="col-md-12 col-lg-6 grafico1">
		<div id="aspectos_juridicos" style="min-width: 310px; height: 400px; max-width: 900px;margin: 0 auto"></div>
	</div>

	<div class="col-md-12 col-lg-6 grafico3">
		<div id="documentacion" style="min-width: 310px; height: 400px; max-width: 900px;margin: 0 auto"></div>
	</div>
</div>

<div class="row fila2">
	<div class="col-md-12 col-lg-6 grafico1">
		<div id="container" style="min-width: 310px; height: 400px; max-width: 900px;margin: 0 auto"></div>
	</div>

	<div class="col-md-12 col-lg-6 indicadores-t2">
           <div class="promedio-cacao">
               <div class="row">
                   <div class="col-md-8 col-lg-8 texto-indicador">
                       <h2>{{areas_establecidas}}</h2>
                       <h3>Promedio de Áreas establecidas de cacao por socias y socios</h3>
                   </div>
                   <div class="col-md-4 col-lg-4">
                       <img src="/static/img/arbol-01.png" alt="">
                   </div>
               </div>
           </div>
           <div class="promedio-cultivo">
                <div class="row">
                   <div class="col-md-8 col-lg-8 texto-indicador">
                       <h2>{{area_organico}}</h2>
                       <h3>Promedio áreas con certificado orgánico</h3>
                   </div>
                   <div class="col-md-4 col-lg-4">
                       <img src="/static/img/arbolito-01.png" alt="">
                   </div>
               </div>
           </div>
        </div>
</div>
{% endblock content %}